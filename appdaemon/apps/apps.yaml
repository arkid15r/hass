---
mp_volume:
  module: mp_volume
  class: AmazonEcho

tts:
  module: tts
  class: Alexa
  env:
    play_always:
      normal_time: []
      quite_time:
        - bedroom_1
    play_default:
      normal_time:
        - corridor
      quite_time: []
  quite_time: binary_sensor.quite_time
  rules:
    bathroom_1:
      conditions:
        - binary_sensor.motion_bathroom_1_5m
        - group.light_bathroom_1
      target: media_player.bathroom_1_echo
      if_not:
        conditions:
          - binary_sensor.bathroom_1_door
        target: media_player.bedroom_1_echo
    bathroom_2:
      conditions:
        - binary_sensor.motion_bathroom_2_5m
        - group.light_bathroom_2
      target: media_player.bathroom_2_echo
      if_not:
        conditions:
          - binary_sensor.bathroom_2_door
        target: media_player.living_room_echo
    bedroom_1:
      conditions:
        - binary_sensor.motion_bedroom_1_5m
        - group.light_bedroom_1
      target: media_player.bedroom_1_echo
    garage:
      conditions:
        - binary_sensor.motion_garage_5m
        - group.light_garage
      target: media_player.garage_echo
    living_room:
      conditions:
        - binary_sensor.living_room_tv
        - binary_sensor.motion_living_room_5m
        - group.light_dining_area
        - group.light_kitchen
        - group.light_living_room
        - group.motion_hallway # now vs last 5m
      target: media_player.living_room_echo
    office_1:
      conditions:
        - binary_sensor.motion_office_1_5m
        - group.light_office_1
        - remote.office_1_tv_remote
      target: media_player.office_1_echo
      if_not:
        target: media_player.living_room_echo
    office_2:
      conditions:
        - binary_sensor.motion_office_2_15m
        - group.light_office_2
      target: media_player.office_2_echo
